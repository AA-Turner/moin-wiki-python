= List of tests that are failing in the py3k-struni branch =

(Back to ["Python3000"].)

Protocol:

  * if you start working on a test, to avoid duplicate work, add your name+email+date to the bulleted item for the test below, with the text "MINE"
  * if you figure out why a test is failing, just add a note (name etc. is still appreciated)
  * if you fix a test, and you check in the fix, add a note "COMMITTED" with the svn revision (occasionally we'll clean these up)
  * if you don't have checkin permissions, use the SF patch manager and note the patch number here (perhaps in the form of a link to python.org/sf/NNNNN), and add a note "FIXED IN SF" (plus name etc.)

== How to run tests ==

Assume you've got the py3k-struni branch checked out.
{{{
./configure
make
./python Lib/test/regrtest.py test_foobar  # runs test_foobar
./python Lib/test/test_foobar.py   # for more detail about failures
}}}

== The Failing Tests ==

test_aepack (OSX only)

test_anydbm (known to fail on Ubuntu)

test_applesingle (OSX only)

test_bsddb

test_bsddb3

test_coding: fails on CYGWIN only

test_cookielib

test_csv - Adam Hupp <firstname at lastname.org> 2007-07-21 

test_email

test_email_codecs

test_email_renamed

test_marshal: fails on CYGWIN only

test_minidom MINE Alexandre Vassalotti 20 July 2007

test_plistlib (OSX only)

test_quopri

test_scriptpackages (OSX only)

test_sgmllib (passes on Ubuntu, fails on OSX, and on CYGWIN)

test_shelve

test_sqlite

test_tarfile: A lot of TypeError: can't concat bytes to str and other  byte/str confusions. 

test_tcl

test_threaded_import

test_unicode_file

test_urllib2: tests pass on my laptop, don't pass elsewhere -- giving up as I don't know what's up with it -- Hasan Diwan.

test_urllib2_localnet

test_wave: probably not worth fixing; aren't we going to delete this?  Anthony Baxter might want it (Brett Cannon).

test_xdrlib

test_xml_etree

test_xml_etree_c

test_xmlrpc

test_zipimport: lots of str/bytes issues, shouldn't be too hard; important

== Previously Fixed Tests ==

test_audioop: Fixed in r56469. MvL

test_asynchat FIXED IN SF http://www.python.org/sf/1752173 Alexandre Vassalotti. COMMITTED r56290.

test_bigmem FIXED IN SF http://www.python.org/sf/1752195. COMMITTED r56295.

test_cmd_line: FIXED IN SF http://www.python.org/sf/1751493 ChristianHeimes -- COMMITTED

test_compile: COMMITTED r56494 GvR.

test_cpickle: Deleted, with cPickle. Alexandre's SoC work should lead to cPickle becoming invisible (Brett Cannon).

test_ctypes: ThomasHeller: FIXED r56338.

test_cProfile: FIXED IN SF http://www.python.org/sf/1755176 by Amaury Forgeot d'Arc COMMITTED r56406.

test_datetime: pickling is broken since r56461, due to cPickle not understanding bytes. Decided the right solution is to stop using cPickle. COMMITTED r56462. GvR.

test_descr GuidoVanRossum: FIXED r56252.
test_descr says: ['foo\u1234bar'] slots not caught; FIXED r56470 GvR.

test_dl FIXED IN SF http://www.python.org/sf/1752229 AlexandreVassalotti 2007-07-11 COMMITTED r56288.

test_doctest: Fixed for OSX in r56468, MvL. Fixed for Ubuntu in r56472, Collin Winter.

test_frozen COMMITTED r56503 GvR.

test_ftplib: FIXED IN SF http://www.python.org/sf/1755206 by Amaury Forgeot d'Arc. FIXED differently by GvR.

test_getargs: (amauryfa) I suggest to remove this test. Now that conversion from unicode to char* uses utf8, no error can occur.
Deletion COMMITTED r56495 GvR.

test_gettext FIXED IN SF http://www.python.org/sf/1751958 ChristianHeimes. COMMITTED r56292.

test_largefile: converted some string literals to byte literals. COMMITTED r56499 Collin Winter.

test_macostools (OSX only) FIXED IN SF http://python.org/sf/1758570 by Jeffrey Yasskin 22 July 2007 COMMITTED r56510 GvR.

test_mailbox FIXED IN SF: http://python.org/sf/1757774 Alexandre Vassalotti 20 July 2007. COMMITTED r56474 GvR.

test_mmap JoeGregorio FIXED IN SF http://www.python.org/sf/1752647
COMMITTED r56400.

test_old_mailbox FIXED IN SF: http://python.org/sf/1757774 Alexandre Vassalotti 20 July 2007. COMMITTED r56474 GvR.

test_pep263 ChristianHeimes FIXED IN WIKI. The fix isn't worth a patch. You have to convert two string to byte by putting a b in front of them. .encode() returns bytes.  COMMITTED by ThomasHeller.

test_pickle: started complaining about unhashable type: 'bytes' since MvL's checkin. COMMITTED r56461 GvR.

test_pickletools Pickle doesn't handle str vs. str8 vs. byte correctly. Do we pickle str as UNICODE or STRING?  FIXED by GvR.

test_poll Christian Heimes FIXED IN WIKI: Replace MSG = " This is a test." with MSG = b" This is a test."  COMMITTED r56285.

test_poplib: needed to change one str literal to a bytes literal in poplib.py. COMMITTED r56498 Collin Winter.

test_pyexpat  JoeGregorio FIXED IN SF http://www.python.org/sf/1759016. COMMITTED r56512 GvR.

test_resource: fixed by a change to io.py (ignore errors from flush() in close()) COMMITTED r56496 GvR.

test_ucn FIXED IN SF: http://python.org/sf/1757758 Alexandre Vassalotti 20 July 2007. COMMITTED r56473 GvR.

test_uu FIXED IN SF ChristianHeimes http://www.python.org/sf/1754339 The patch may fix several other unit tests, too. (A different fix was committed; GvR.)

test_uuid: COMMITTED r56471. GvR.

test_xpickle: deleted, with cPickle.
