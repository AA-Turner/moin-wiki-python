= List of tests that are failing in the py3k-struni branch =

(Back to ["Python3000"].)

Protocol:

  * if you start working on a test, to avoid duplicate work, add your name+email+date to the bulleted item for the test below, with the text "MINE"
  * if you figure out why a test is failing, just add a note (name etc. is still appreciated)
  * if you fix a test, and you check in the fix, add a note "COMMITTED" with the svn revision (occasionally we'll clean these up)
  * if you don't have checkin permissions, use the SF patch manager and note the patch number here (perhaps in the form of a link to python.org/sf/NNNNN), and add a note "FIXED IN SF" (plus name etc.)

== How to run tests ==

Assume you've got the py3k-struni branch checked out.
{{{
./configure
make
./python Lib/test/regrtest.py test_foobar  # runs test_foobar
./python Lib/test/test_foobar.py   # for more detail about failures
}}}

== The tests ==

test_aepack (OSX only)

test_applesingle (OSX only)

test_audioop lin2alaw() and lin2ulaw() are returning str8 instead of str. Shouldn't the methods return bytes?  A: yes they should return bytes. (GvR)

test_bsddb

test_compile

test_cookielib

test_cpickle: not worth it? (I think this may be killed.); Alexandre's SoC work should lead to cPickle becoming invisible (Brett Cannon).

test_csv

tet_descr says: ['foo\u1234bar'] slots not caught

test_doctest

test_email

test_email_codecs

test_email_renamed

test_frozen in Python/frozen.c ''{"__phello__.spam", M___hello__, SIZE},'' doesn't add a spam module.  (But why?!?!)

test_getargs: (amauryfa) I suggest to remove this test. Now that conversion from unicode to char* uses utf8, no error can occur.

test_largefile

test_macostools (OSX only)

test_mailbox

test_minidom

test_old_mailbox

test_plistlib (OSX only)

test_poplib

test_pyexpat

test_quopri

test_resource

test_scriptpackages (OSX only)

test_sgmllib (passes on Ubuntu, fails on OSX, and on CYGWIN)

test_shelve

test_sqlite

test_tarfile: A lot of TypeError: can't concat bytes to str and other  byte/str confusions. 

test_tcl

test_threaded_import

test_ucn

test_unicode_file

test_urllib2: FIXED IN SF http://python.org/sf/1755133 Hasan Diwan.

test_urllib2_localnet

test_uuid (passes on OSX, fails on Ubuntu), Guido has disabled some tests: 53686 guido.van.rossum         print("""    WARNING: uuid._unixdll_getnode is unreliable on many platforms. 

test_wave: probably not worth fixing; aren't we going to delete this?  Anthony Baxter might want it (Brett Cannon).

test_xdrlib

test_xml_etree

test_xml_etree_c

test_xmlrpc

test_xpickle

test_zipimport: lots of str/bytes issues, shouldn't be too hard; important

== Previously Fixed ==

test_asynchat FIXED IN SF http://www.python.org/sf/1752173 Alexandre Vassalotti. COMMITTED r56290.

test_bigmem FIXED IN SF http://www.python.org/sf/1752195. COMMITTED r56295.

test_cmd_line: FIXED IN SF http://www.python.org/sf/1751493 ChristianHeimes -- COMMITTED

test_ctypes: ThomasHeller: FIXED r56338.

test_cProfile: FIXED IN SF http://www.python.org/sf/1755176 by Amaury Forgeot d'Arc COMMITTED r56406.

test_descr GuidoVanRossum: FIXED r56252.

test_dl FIXED IN SF http://www.python.org/sf/1752229 AlexandreVassalotti 2007-07-11 COMMITTED r56288.

test_ftplib: FIXED IN SF http://www.python.org/sf/1755206 by Amaury Forgeot d'Arc. FIXED differently by GvR.

test_gettext FIXED IN SF http://www.python.org/sf/1751958 ChristianHeimes. COMMITTED r56292.

test_mmap JoeGregorio FIXED IN SF http://www.python.org/sf/1752647
COMMITTED r56400.

test_pep263 ChristianHeimes FIXED IN WIKI. The fix isn't worth a patch. You have to convert two string to byte by putting a b in front of them. .encode() returns bytes.  COMMITTED by ThomasHeller.

test_pickletools Pickle doesn't handle str vs. str8 vs. byte correctly. Do we pickle str as UNICODE or STRING?  FIXED by GvR.

test_poll Christian Heimes FIXED IN WIKI: Replace MSG = " This is a test." with MSG = b" This is a test."  COMMITTED r56285.

test_uu FIXED IN SF ChristianHeimes http://www.python.org/sf/1754339 The patch may fix several other unit tests, too. (A different fix was committed; GvR.)
