= Intellij project creation notes =

Jython is an ant project. This makes it a bit difficult to import into Intellij IDEA.

<<TableOfContents()>>

== Prequisites ==

=== Software packages (outside Intellij) ===

 * ant
 * mercurial
 * Java JDK
 * Python 2.7
 * Intellij IDEA 12 (http://www.jetbrains.com/idea/)

There is a free "Community Edition" of Intellij that might work (I'm only unsure about the Python integration). However as I (sven) use the Ultimate Edition, this tutorial is tested with this edition.

Intellij offers free IDEA licenses for Open Source projects. Perhaps it might be a good idea to apply for them.

=== Intellij Plugins ===
 * Ant Support (Bundled)
 * Eclipse Integration (Bundled)
 * hg4idea (Bundled)
 * Python (Custom, i.e. must be installed from Intellij plugin repository) 

Of course there are many other useful plugins, but these four are essential for importing Jython into Intellij IDEA.

== Steps ==

=== Make a clean checkout ===
{{{#!highlight bash
hg clone http://bitbucket.org/jython/jython jython
}}}

=== Remove Intellij files from jython ===
Change into the jython directory:
{{{#!highlight bash
cd jython
}}}

Remove files:
{{{#!highlight bash
rm -rf .idea/
rm Jython27.iml
}}}


=== Run ant ===
Run this in the jython source directory (if you made the previous step, you're already there):

{{{#!highlight bash
ant
}}}

=== Import jython as Eclipse-Project in Intellij IDEA ===

Start Intellij IDEA. Close the last open project (if there's any), to get to the start screen.

Choose ''Import Project'':

{{attachment:WelcomeToIntellijIdea.png||align="top"}}

Select jython source directory:

{{attachment:SelectFileOrDirectoryToImport.png||align="top"}}

''Import project from external model'' --> ''Eclipse'':

{{attachment:ImportProject.png || align="top" }}

Check ''Link created Intellij IDEA modules to Eclipse project files''. For other fields the defaults should be sufficient.

{{attachment:ImportProject2.png || align="top"}}

''Finish'':

{{attachment:ImportProject3.png || align="top"}}

Drag and drop the ant build.xml from the project window to the ant window. This will make Intellij aware of the ant project.

{{attachment:DragAndDropAnt.png || align="top" }}

== What did we? ==

Speaking in Intellij jargon, we adopted the whole ''Project Structure'' (classpath, source and test directories, libaries) from the Eclipse project files. We could have done this manually, but this way was much easier and less error-prone.

It's a good idea to take a look at the ''Project Structure'' (Shortcut: Strg + Alt + Shift + s) as e.g. the classpath might change with the next update.
